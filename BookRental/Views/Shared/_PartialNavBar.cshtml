@using Microsoft.AspNet.Identity

<nav class="navbar navbar-fixed-top navbar-default">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/Home">Book Rental</a>
			
			
		</div>

		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			
			<ul class="nav navbar-nav">
				<li>@Html.ActionLink("Rent Status","Index","BookRent")</li>
				@*<li class="active"><a href="/Genre">Genre <span class="sr-only">(current)</span></a></li>

		<li><a href="/Membership">Membership</a></li>*@
				@if (User.IsInRole("Admin")) {
				<li class="dropdown">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Admin <span class="caret"></span></a>
					<ul class="dropdown-menu" role="menu">
						<li><a href="/Genre">Manage Genres</a></li>
						<li><a href="/MembershipTypes">Manage Memberships</a></li>
						<li><a href="/Books">Manage Books</a></li>
						<li class="divider"></li>
						<li><a href="/User">Manage Users</a></li>
						<li class="divider"></li>
					</ul>
				</li>
				}
			</ul>

			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav navbar-right">
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Account <span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
							@if (Request.IsAuthenticated)
							{
								using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm" }))
								{
									@Html.AntiForgeryToken()



								}
								<li><a href="/Manage">Manage Account</a></li>
								<li><a href="javascript:document.getElementById('logoutForm').submit()">Log off</a></li>
							}
							else
							{

								<li>@Html.ActionLink("Register", "Register", "Account", routeValues: null, htmlAttributes: new { id = "registerLink" })</li>
								<li>@Html.ActionLink("Log in", "Login", "Account", routeValues: null, htmlAttributes: new { id = "loginLink" })</li>

							}


						</ul>
					</li>
				</ul>
			</div>


			@*<ul class="nav navbar-nav navbar-right">
			<li class="dropdown" role="menu">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Account <span class="caret"></span></a>
				<ul class="dropdown-menu" role="menu">

					@if (Request.IsAuthenticated)
					{
						using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
						{
							@Html.AntiForgeryToken()

							<li><a href="@Html.ActionLink("Manage Account", "Index", "Manage", routeValues: null, htmlAttributes: new { title = "Manage" })"></a></li>



							<li><a href="javascript:document.getElementById('logoutForm').submit()">Log off</a></li>
						}
					}
					else
					{

						<li>@Html.ActionLink("Register", "Register", "Account", routeValues: null, htmlAttributes: new { id = "registerLink" })</li>
						<li>@Html.ActionLink("Log in", "Login", "Account", routeValues: null, htmlAttributes: new { id = "loginLink" })</li>

					}



				</ul>

			</li>
			@Html.Partial("_LoginPartial")
		</ul>*@
		</div>
	</div>
</nav>
